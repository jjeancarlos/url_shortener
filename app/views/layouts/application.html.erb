<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Url Shortener" %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="bg-linear-to-br from-slate-900 via-indigo-900 to-slate-900 min-h-screen relative text-gray-100 font-sans antialiased selection:bg-pink-500 selection:text-white">
    
    <% if notice || alert %>
      <div id="flash-messages" class="fixed top-6 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md px-4">
        <% if notice %>
          <div class="backdrop-blur-md bg-emerald-500/80 border border-emerald-400/50 text-white px-6 py-3 rounded-xl shadow-lg mb-2 flex items-center justify-center font-medium animate-bounce-in">
            <%= notice %>
          </div>
        <% end %>
        <% if alert %>
          <div class="backdrop-blur-md bg-rose-500/80 border border-rose-400/50 text-white px-6 py-3 rounded-xl shadow-lg flex items-center justify-center font-medium animate-bounce-in">
            <%= alert %>
          </div>
        <% end %>
      </div>
    <% end %>

    <main class="container mx-auto pt-20 px-4 md:px-0 pb-10 flex flex-col items-center justify-center min-h-[80vh]">
      <%= yield %>
    </main>

    <script>
      // Remove os alertas apÃ³s 4 segundos com efeito fade
      setTimeout(() => {
        const flash = document.getElementById("flash-messages");
        if (flash) {
          flash.style.transition = "opacity 0.7s ease, transform 0.7s ease";
          flash.style.opacity = "0";
          flash.style.transform = "translate(-50%, -20px)";
          setTimeout(() => flash.remove(), 700);
        }
      }, 4000);
    </script>
  </body>
</html>